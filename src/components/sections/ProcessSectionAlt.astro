---
// ProcessSectionAlt.astro - AI E-commerce Transformation Process
export interface Props {
  className?: string;
}

const { className = '' } = Astro.props;

const processSteps = [
  {
    number: "01",
    title: "AI Strategy & Discovery",
    description: "We analyze your business goals, current e-commerce setup, and identify AI automation opportunities to maximize growth potential.",
    color: "#10d1ff", // Primary blue
    bgColor: "rgba(16, 209, 255, 0.08)",
    iconColor: "#10d1ff",
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"/>
      <path d="M8 14s1.5 2 4 2 4-2 4-2"/>
      <line x1="9" y1="9" x2="9.01" y2="9"/>
      <line x1="15" y1="9" x2="15.01" y2="9"/>
    </svg>`
  },
  {
    number: "02",
    title: "E-commerce Architecture Design",
    description: "Design scalable, AI-ready e-commerce architecture with planned integrations, data flows, and user experience blueprints.",
    color: "#0071e3", // Secondary blue
    bgColor: "rgba(0, 113, 227, 0.08)",
    iconColor: "#0071e3",
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M12 19l7-7 3 3-7 7-3-3z"/>
      <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
      <path d="M2 2l7.586 7.586"/>
      <circle cx="11" cy="11" r="2"/>
    </svg>`
  },
  {
    number: "03",
    title: "AI Implementation & Development",
    description: "Build custom AI solutions, integrate automation tools, and develop responsive, high-converting interfaces tailored to your needs.",
    color: "#5856d6", // Purple
    bgColor: "rgba(88, 86, 214, 0.08)",
    iconColor: "#5856d6",
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="16,18 22,12 16,6"/>
      <polyline points="8,6 2,12 8,18"/>
    </svg>`
  },
  {
    number: "04",
    title: "Testing & Optimization",
    description: "Rigorous testing of AI functionality, user experience optimization, performance tuning, and conversion rate validation.",
    color: "#22c55e", // Green
    bgColor: "rgba(34, 197, 94, 0.08)",
    iconColor: "#22c55e",
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="9,11 12,14 22,4"/>
      <path d="M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C13.3968 3 14.7178 3.35587 15.8871 4"/>
    </svg>`
  },
  {
    number: "05",
    title: "Launch & Scale",
    description: "Deploy your AI-powered e-commerce solution, monitor performance, and implement continuous improvement strategies for scaling.",
    color: "#ff3b30", // Red/Orange
    bgColor: "rgba(255, 59, 48, 0.08)",
    iconColor: "#ff3b30",
    icon: `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M6 3h12l4 6-10 13L2 9l4-6z"/>
      <path d="M11 3L8 9l4 13 4-13-3-6"/>
      <path d="M2 9h20"/>
    </svg>`
  }
];
---

<div class={`ai-process-container ${className}`}>
  <div class="process-grid">
    {processSteps.map((step, index) => (
      <div class="process-card-wrapper" data-step={index}>
        {/* Large Step Number Above Card */}
        <div class="step-number-large" style={`color: ${step.color}`}>
          <span class="sf-black">{step.number}</span>
        </div>
        
        <div class="process-card group">
          {/* Step Content */}
          <div class="step-content">
            <div class="step-icon-container" style={`background-color: ${step.bgColor}; border: 2px solid ${step.color}22`}>
              <div class="step-icon" style={`color: ${step.iconColor}`}>
                <Fragment set:html={step.icon} />
              </div>
            </div>
            
            <h3 class="step-title sf-semibold">{step.title}</h3>
            <p class="step-description sf-regular">{step.description}</p>
          </div>
          
          {/* Connection Arrow (except for last item) */}
          {index < processSteps.length - 1 && (
            <div class="connection-arrow">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9,18 15,12 9,6"></polyline>
              </svg>
            </div>
          )}
        </div>
      </div>
    ))}
  </div>
</div>

<style>
  /* AI Process Section Styles */
  .ai-process-container {
    width: 100%;
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  .process-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
    align-items: start;
    position: relative;
  }

  .process-card-wrapper {
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .step-number-large {
    text-align: center;
    margin-bottom: 1rem;
    font-size: 4.5rem;
    font-weight: 900;
    line-height: 1;
    opacity: 0.9;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
  }

  .process-card-wrapper:hover .step-number-large {
    transform: scale(1.1);
    opacity: 1;
  }

  .process-card {
    position: relative;
    height: 100%;
    background: linear-gradient(135deg, 
      rgba(255, 255, 255, 0.9) 0%, 
      rgba(248, 250, 252, 0.95) 100%);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 24px;
    padding: 2rem;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 
      0 4px 20px rgba(0, 0, 0, 0.08),
      0 1px 3px rgba(0, 0, 0, 0.1);
    overflow: hidden;
  }

  .process-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 
      0 20px 60px rgba(16, 209, 255, 0.15),
      0 8px 40px rgba(0, 0, 0, 0.12);
    border-color: rgba(16, 209, 255, 0.3);
  }

  .process-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #10d1ff, #0071e3, #5856d6);
    border-radius: 24px 24px 0 0;
  }

  .step-content {
    text-align: center;
    height: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .step-icon-container {
    width: 80px;
    height: 80px;
    border-radius: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 1rem 0 1.5rem 0;
    transition: all 0.3s ease;
    position: relative;
  }

  .process-card:hover .step-icon-container {
    transform: scale(1.1) rotate(5deg);
  }

  .step-icon {
    transition: all 0.3s ease;
  }

  .step-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #1a202c;
    margin: 0 0 1rem 0;
    line-height: 1.3;
    text-align: center;
  }

  .step-description {
    font-size: 1rem;
    color: #4a5568;
    line-height: 1.6;
    text-align: center;
    flex-grow: 1;
    margin: 0;
  }

  .connection-arrow {
    display: none;
    position: absolute;
    top: 50%;
    right: -2rem;
    transform: translateY(-50%);
    color: rgba(16, 209, 255, 0.4);
    transition: all 0.3s ease;
  }

  /* Dark mode support */
  :global(.dark) .process-card {
    background: linear-gradient(135deg, 
      rgba(30, 41, 59, 0.9) 0%, 
      rgba(51, 65, 85, 0.95) 100%);
    border-color: rgba(255, 255, 255, 0.1);
    box-shadow: 
      0 4px 20px rgba(0, 0, 0, 0.3),
      0 1px 3px rgba(0, 0, 0, 0.2);
  }

  :global(.dark) .process-card:hover {
    box-shadow: 
      0 20px 60px rgba(16, 209, 255, 0.25),
      0 8px 40px rgba(0, 0, 0, 0.4);
  }

  :global(.dark) .step-title {
    color: #f7fafc;
  }

  :global(.dark) .step-description {
    color: #cbd5e0;
  }

  :global(.dark) .step-number-large {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .ai-process-container {
      padding: 0 1rem;
    }

    .process-grid {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    .process-card {
      padding: 1.5rem;
    }

    .step-number-large {
      font-size: 3rem;
      margin-bottom: 0.75rem;
    }

    .step-title {
      font-size: 1.25rem;
    }

    .step-description {
      font-size: 0.9rem;
    }

    .step-icon-container {
      width: 64px;
      height: 64px;
    }
  }

  @media (min-width: 1024px) {
    .connection-arrow {
      display: block;
    }

    .process-grid {
      grid-template-columns: repeat(5, 1fr);
    }
  }

  /* Animation on scroll */
  .process-card-wrapper {
    opacity: 0;
    transform: translateY(30px);
    animation: slideInUp 0.6s ease forwards;
  }

  .process-card-wrapper:nth-child(1) { animation-delay: 0.1s; }
  .process-card-wrapper:nth-child(2) { animation-delay: 0.2s; }
  .process-card-wrapper:nth-child(3) { animation-delay: 0.3s; }
  .process-card-wrapper:nth-child(4) { animation-delay: 0.4s; }
  .process-card-wrapper:nth-child(5) { animation-delay: 0.5s; }

  @keyframes slideInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
