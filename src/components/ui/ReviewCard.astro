---
export interface Props {
  customerName: string;
  testimonial: string;
  tags: Array<{
    label: string;
    color: 'blue' | 'green' | 'purple' | 'pink' | 'violet' | 'red' | 'indigo' | 'orange' | 'sky' | 'teal' | 'cyan';
  }>;
  rating?: number; // Number of stars (1-5)
  className?: string;
}

const {
  customerName,
  testimonial,
  tags,
  rating = 5,
  className = ''
} = Astro.props;

// Color variants for tags
const colorVariants = {
  blue: 'bg-blue-500/10 text-blue-500 border-blue-500/20',
  green: 'bg-green-500/10 text-green-500 border-green-500/20',
  purple: 'bg-purple-500/10 text-purple-500 border-purple-500/20',
  pink: 'bg-pink-500/10 text-pink-500 border-pink-500/20',
  violet: 'bg-violet-500/10 text-violet-500 border-violet-500/20',
  red: 'bg-red-500/10 text-red-500 border-red-500/20',
  indigo: 'bg-indigo-500/10 text-indigo-500 border-indigo-500/20',
  orange: 'bg-orange-500/10 text-orange-500 border-orange-500/20',
  sky: 'bg-sky-500/10 text-sky-500 border-sky-500/20',
  teal: 'bg-teal-500/10 text-teal-500 border-teal-500/20',
  cyan: 'bg-cyan-500/10 text-cyan-500 border-cyan-500/20'
};
---

<div class={`min-w-[calc(33.333%-1rem)] mr-8 flex-shrink-0 bg-white/80 dark:bg-white/10 backdrop-blur-lg border border-gray-200/50 dark:border-white/10 rounded-2xl p-8 transition-all duration-300 hover:scale-110 hover:shadow-[0_0_40px_rgba(14,165,233,0.35)] hover:border-sky-500/50 hover:bg-white/90 dark:hover:bg-white/15 ${className}`}>
  <div class="flex items-center justify-between mb-4">
    <div class="flex items-center gap-1">
      {Array.from({ length: rating }, () => (
        <svg class="w-4 h-4 text-yellow-400 fill-current" viewBox="0 0 24 24">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
      ))}
    </div>
    <div class="text-sm font-medium text-text-light-primary dark:text-text-dark-primary">{customerName}</div>
  </div>

  <blockquote class="text-text-light-primary dark:text-text-dark-primary text-lg leading-relaxed mb-6 font-medium">
    "{testimonial}"
  </blockquote>

  <div class="flex flex-wrap gap-2">
    {tags.map((tag) => (
      <span class={`px-3 py-1 ${colorVariants[tag.color]} text-xs font-medium rounded-full border`}>
        {tag.label}
      </span>
    ))}
  </div>
</div>
