---
export interface Props {
  title: string;
  description: string;
  icon: string;
  tags: string;
  variant: 'indigo' | 'green' | 'blue' | 'orange' | 'purple' | 'teal' | 'rose';
  pixelColors: string;
  className?: string;
}

const {
  title,
  description,
  icon,
  tags,
  variant,
  pixelColors,
  className = ''
} = Astro.props;

// Define variant styles with compact layout
const variantStyles = {
  indigo: {
    container: "group backdrop-blur-lg border rounded-xl p-4 transition-all duration-300 relative overflow-hidden",
    containerStyle: "background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(99, 102, 241, 0.08)); border-color: rgba(99, 102, 241, 0.4); box-shadow: 0 4px 20px rgba(99, 102, 241, 0.2), 0 1px 3px rgba(99, 102, 241, 0.1);",
    icon: "w-8 h-8 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-lg flex items-center justify-center transition-transform duration-300 flex-shrink-0",
    text: "text-indigo-400"
  },
  green: {
    container: "group backdrop-blur-lg border rounded-xl p-4 transition-all duration-300 relative overflow-hidden",
    containerStyle: "background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.08)); border-color: rgba(34, 197, 94, 0.4); box-shadow: 0 4px 20px rgba(34, 197, 94, 0.2), 0 1px 3px rgba(34, 197, 94, 0.1);",
    icon: "w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center transition-transform duration-300 flex-shrink-0",
    text: "text-green-400"
  },
  blue: {
    container: "group backdrop-blur-lg border rounded-xl p-4 transition-all duration-300 relative overflow-hidden",
    containerStyle: "background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.08)); border-color: rgba(59, 130, 246, 0.4); box-shadow: 0 4px 20px rgba(59, 130, 246, 0.2), 0 1px 3px rgba(59, 130, 246, 0.1);",
    icon: "w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center transition-transform duration-300 flex-shrink-0",
    text: "text-blue-400"
  },
  orange: {
    container: "group backdrop-blur-lg border rounded-xl p-4 transition-all duration-300 relative overflow-hidden",
    containerStyle: "background: linear-gradient(135deg, rgba(249, 115, 22, 0.15), rgba(249, 115, 22, 0.08)); border-color: rgba(249, 115, 22, 0.4); box-shadow: 0 4px 20px rgba(249, 115, 22, 0.2), 0 1px 3px rgba(249, 115, 22, 0.1);",
    icon: "w-8 h-8 bg-gradient-to-r from-orange-500 to-yellow-500 rounded-lg flex items-center justify-center transition-transform duration-300 flex-shrink-0",
    text: "text-orange-400"
  },
  purple: {
    container: "group backdrop-blur-lg border rounded-xl p-4 transition-all duration-300 relative overflow-hidden",
    containerStyle: "background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(168, 85, 247, 0.08)); border-color: rgba(168, 85, 247, 0.4); box-shadow: 0 4px 20px rgba(168, 85, 247, 0.2), 0 1px 3px rgba(168, 85, 247, 0.1);",
    icon: "w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-lg flex items-center justify-center transition-transform duration-300 flex-shrink-0",
    text: "text-purple-400"
  },
  teal: {
    container: "group backdrop-blur-lg border rounded-xl p-4 transition-all duration-300 relative overflow-hidden",
    containerStyle: "background: linear-gradient(135deg, rgba(20, 184, 166, 0.15), rgba(20, 184, 166, 0.08)); border-color: rgba(20, 184, 166, 0.4); box-shadow: 0 4px 20px rgba(20, 184, 166, 0.2), 0 1px 3px rgba(20, 184, 166, 0.1);",
    icon: "w-8 h-8 bg-gradient-to-r from-teal-500 to-cyan-500 rounded-lg flex items-center justify-center transition-transform duration-300 flex-shrink-0",
    text: "text-teal-400"
  },
  rose: {
    container: "group backdrop-blur-lg border rounded-xl p-4 transition-all duration-300 relative overflow-hidden",
    containerStyle: "background: linear-gradient(135deg, rgba(244, 63, 94, 0.15), rgba(244, 63, 94, 0.08)); border-color: rgba(244, 63, 94, 0.4); box-shadow: 0 4px 20px rgba(244, 63, 94, 0.2), 0 1px 3px rgba(244, 63, 94, 0.1);",
    icon: "w-8 h-8 bg-gradient-to-r from-rose-500 to-pink-500 rounded-lg flex items-center justify-center transition-transform duration-300 flex-shrink-0",
    text: "text-rose-400"
  }
};

const styles = variantStyles[variant];
---

<div class={`${styles.container} ${className}`} style={styles.containerStyle}>
  <div class="relative z-10">
    <!-- Icon and Title on same line -->
    <div class="flex items-center gap-3 mb-3">
      <div class={styles.icon}>
        <Fragment set:html={icon} />
      </div>
      <h3 class={`text-lg ${styles.text} font-semibold leading-tight`}>{title}</h3>
    </div>

    <p class="text-text-light-primary dark:text-text-dark-primary text-base leading-snug mb-4 font-medium">
      {description}
    </p>

    <div class={`${styles.text} text-sm font-medium`}>
      {tags}
    </div>
  </div>
</div>

<style>
  /* Services responsive styles */
  @media (max-width: 768px) {
    .services-grid {
      @apply grid-cols-1 gap-6;
    }
  }
</style>